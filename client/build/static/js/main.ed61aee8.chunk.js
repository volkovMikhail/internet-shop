(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,t,c){e.exports={header:"Header_header__uLntg",nav:"Header_nav__2oSCW",logo:"Header_logo__1tJVY",burgerMenu:"Header_burgerMenu__1SAnF"}},17:function(e,t,c){e.exports={container:"itemcontent_container__1o5XV",imagesContainer:"itemcontent_imagesContainer__3KKlF",infoContainer:"itemcontent_infoContainer__IL92m"}},21:function(e,t,c){e.exports={container:"catalog_container__2kVb0",cardContainer:"catalog_cardContainer__hNRrP"}},25:function(e,t,c){e.exports={footer:"footer_footer__3s3Am"}},3:function(e,t,c){e.exports={links:"Links_links__2ql4A",linkItem:"Links_linkItem__Y2BEa",activeLinkItem:"Links_activeLinkItem__1Jt0H",cartImage:"Links_cartImage__2uSiP",cartLink:"Links_cartLink__XuZj9",badge:"Links_badge__uTzpd"}},32:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(24),i=c.n(r),s=(c(32),c(8)),o=c(20),l=c(2),d=c(10),u=c.n(d),j=c(16),b=c(21),m=c.n(b),x=c(14),O=c(9),h=c.n(O),v=n.a.createContext(),f=c(0);var _=function(e){var t=e.url,c=e.title,n=e.price,r=e.currency,i=e.id,s=Object(a.useContext)(v).store,o=function(e){console.log(e),window.location.pathname="/item/".concat(e)};return Object(f.jsxs)("div",{className:h.a.card,children:[Object(f.jsx)("div",{onClick:function(){return o(i)},className:h.a.cardImg,style:{backgroundImage:"url('./images/".concat(t,"')")}}),Object(f.jsx)("div",{className:h.a.cardTitle,children:Object(f.jsxs)("div",{className:h.a.cardInfo,children:[Object(f.jsxs)("div",{style:{cursor:"pointer"},onClick:function(){return o(i)},children:[Object(f.jsx)("p",{children:c}),Object(f.jsxs)("p",{className:h.a.price,children:[n," ",r]})]}),Object(f.jsx)("button",{className:h.a.orderButton,onClick:function(){!function(e){var t=s.catalog.filter((function(t){return t._id===e})),c=JSON.parse(localStorage.getItem("cart")),a=!1;if(c){var n=c.map((function(e){var c=e;return e._id===t[0]._id&&(c.count=c.count+1,a=!0),c}));a?localStorage.setItem("cart",JSON.stringify(Object(x.a)(n))):(t[0].count=1,localStorage.setItem("cart",JSON.stringify([t[0]].concat(Object(x.a)(n)))))}else t[0].count=1,localStorage.setItem("cart",JSON.stringify([t[0]]))}(i)},children:"ORDER"})]})})]})};var g=function(e){var t=e.wears;return Object(f.jsx)("div",{className:m.a.container,children:Object(f.jsx)("div",{className:m.a.cardContainer,children:t.map((function(e,t){return Object(f.jsx)(_,{id:e._id,url:e.images[0],title:e.title,price:e.price,currency:e.currency},t)}))})})},p=c(25),k=c.n(p);var I=function(){return Object(f.jsx)("footer",{className:k.a.footer})},N=c(11),C=c.n(N),y=c(5),w=c.n(y);var S=function(e){var t=e.active,c=e.state,a=function(e){window.location.href=e};return Object(f.jsxs)("div",{className:c?"".concat(w.a.links," ").concat(w.a.down):"".concat(w.a.links," ").concat(w.a.up),children:[Object(f.jsx)("div",{onClick:function(){a("/about")},className:"about"===t?w.a.linkItem+" "+w.a.activeLinkItem:w.a.linkItem,children:Object(f.jsx)("h4",{children:"About us"})}),Object(f.jsx)("div",{onClick:function(){return a("/catalog")},className:"catalog"===t?w.a.linkItem+" "+w.a.activeLinkItem:w.a.linkItem,children:Object(f.jsx)("h4",{children:"Catalog"})}),Object(f.jsx)("div",{onClick:function(){return a("/cart")},className:"cart"===t?w.a.linkItem+" "+w.a.activeLinkItem:w.a.linkItem,children:Object(f.jsx)("h4",{children:"Cart"})})]})},L=c(3),B=c.n(L);var J=function(e){var t=e.active,c=function(e){window.location.href=e};return Object(f.jsxs)("div",{className:"".concat(B.a.links," ").concat(B.a.visibleBigScreen),children:[Object(f.jsx)("div",{onClick:function(){c("/about")},className:"about"===t?B.a.linkItem+" "+B.a.activeLinkItem:B.a.linkItem,children:Object(f.jsx)("h4",{children:"About us"})}),Object(f.jsx)("div",{onClick:function(){return c("/catalog")},className:"catalog"===t?B.a.linkItem+" "+B.a.activeLinkItem:B.a.linkItem,children:Object(f.jsx)("h4",{children:"Catalog"})}),Object(f.jsx)("div",{onClick:function(){return c("/cart")},className:"cart"===t?B.a.linkItem+" "+B.a.activeLinkItem:B.a.linkItem,children:Object(f.jsxs)("div",{href:"/",className:B.a.cartLink,children:[Object(f.jsx)("div",{className:B.a.cartImage,style:{backgroundImage:'url("/images/assets/cart.svg")'}}),Object(f.jsx)("span",{className:B.a.badge,children:"3"})]})})]})};var A=function(e){var t=e.active,c=Object(a.useState)(!1),n=Object(s.a)(c,2),r=n[0],i=n[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)(S,{active:t,state:r}),Object(f.jsx)("div",{className:C.a.header,children:Object(f.jsxs)("div",{className:C.a.nav,children:[Object(f.jsx)("div",{className:C.a.logo,children:Object(f.jsx)("h1",{children:"LOGO"})}),Object(f.jsx)(J,{active:t}),Object(f.jsx)("div",{className:C.a.burgerMenu,children:Object(f.jsx)("div",{onClick:function(e){i(!r)},className:C.a.linkItem,children:Object(f.jsx)("h4",{children:"\u041a\u043d\u043e\u043f\u043a\u0430 \u043a\u0430\u0440\u043e\u0447\u0435"})})})]})})]})},E="FETCH_WEARS";var F=function(){var e,t=Object(a.useContext)(v),c=t.store,n=t.dispatch;return Object(a.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/wears");case 2:return e.next=4,e.sent.json();case 4:t=e.sent,n({type:E,payload:t});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(f.jsxs)("div",{children:[Object(f.jsx)(A,{active:"catalog"}),Object(f.jsx)("h1",{className:"title",children:"Catalog"}),(null===(e=c.catalog)||void 0===e?void 0:e.length)?Object(f.jsx)(g,{wears:c.catalog}):Object(f.jsx)("div",{className:"loadingContainer",children:Object(f.jsx)("div",{className:"loader"})}),Object(f.jsx)(I,{})]})};var M=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(A,{active:"about"}),Object(f.jsx)("h1",{className:"title",children:"About us"}),Object(f.jsx)(I,{})]})},T=c(7),H=c.n(T),P=n.a.createContext();var V=function(e){var t=e.url,c=e.title,n=e.price,r=e.currency,i=e.id,s=e.count,o=Object(a.useContext)(P).setCart;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:H.a.card,children:[Object(f.jsxs)("div",{className:H.a.mainInfo,children:[Object(f.jsx)("div",{className:H.a.cardImg,style:{backgroundImage:"url('./images/".concat(t,"')")}}),Object(f.jsx)("div",{className:H.a.cardInfo,children:Object(f.jsxs)("div",{className:H.a.cartText,children:[Object(f.jsxs)("p",{children:[c," - "]}),Object(f.jsxs)("div",{className:H.a.cartText,children:[Object(f.jsxs)("p",{className:H.a.price,children:[n," ",r]}),Object(f.jsxs)("p",{children:["x",s]})]})]})})]}),Object(f.jsx)("button",{className:H.a.deleteButton,onClick:function(){!function(e){var t=JSON.parse(localStorage.getItem("cart")),c=[];t.forEach((function(t){if(t._id===e){if(1===t.count)return;t.count--,c.push(t)}else c.push(t)})),localStorage.setItem("cart",JSON.stringify(c)),o(JSON.parse(localStorage.getItem("cart")))}(i)},children:"\u2716"})]}),Object(f.jsx)("hr",{})]})};var R=function(e){var t=e.cart;return Object(f.jsx)("div",{className:"container",style:{display:"flex",flexDirection:"column"},children:t.map((function(e,t){return Object(f.jsx)(V,{id:e._id,url:e.images[0],title:e.title,price:e.price,currency:e.currency,count:e.count},t)}))})};var K=function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("cart"))),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(f.jsx)(P.Provider,{value:{setCart:n},children:Object(f.jsxs)("div",{children:[Object(f.jsx)(A,{active:"cart"}),Object(f.jsx)("h1",{className:"title",children:"cart"}),(null===c||void 0===c?void 0:c.length)?Object(f.jsx)(R,{cart:c}):Object(f.jsx)("h1",{className:"loadingContainer",children:"Cart is empty"}),Object(f.jsxs)("h1",{className:"title",children:["total: ",function(e){if(!e)return 0;var t=0;return e.forEach((function(e){t+=e.count*e.price})),t}(c)]}),Object(f.jsx)(I,{})]})})},W=c(17),q=c.n(W);var D=function(e){var t=e.wear;return Object(f.jsx)("main",{children:Object(f.jsxs)("div",{className:q.a.container,children:[Object(f.jsx)("div",{className:q.a.imagesContainer,children:void 0!==(null===t||void 0===t?void 0:t.images)?t.images.map((function(e,t){return Object(f.jsx)("div",{style:{backgroundImage:"url('../images/".concat(e,"')")}},t)})):Object(f.jsx)("h1",{children:"Loading..."})}),Object(f.jsx)("div",{className:q.a.infoContainer,children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. In doloribus repellendus nesciunt minus voluptates, eligendi molestias ea porro quia perferendis beatae nulla ducimus, natus velit expedita similique? Quaerat, amet unde."})]})})};var Q=function(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),c=t[0],n=t[1];function r(){var e=window.location.pathname.split("/");return e[e.length-1]}function i(){return(i=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/wear/".concat(r()));case 2:return e.next=4,e.sent.json();case 4:t=e.sent,n(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),Object(f.jsxs)("div",{children:[Object(f.jsx)(A,{active:""}),(null===c||void 0===c?void 0:c.data)?Object(f.jsx)(D,{wear:c.data[0]}):Object(f.jsx)("h1",{className:"loadingContainer",children:"Item not found"}),Object(f.jsx)(I,{})]})};var Z=function(){return Object(f.jsxs)(l.d,{children:[Object(f.jsx)(l.b,{path:"/about",exact:!0,children:Object(f.jsx)(M,{})}),Object(f.jsx)(l.b,{path:"/catalog",exact:!0,children:Object(f.jsx)(F,{})}),Object(f.jsx)(l.b,{path:"/cart",exact:!0,children:Object(f.jsx)(K,{})}),Object(f.jsx)(l.b,{path:"/item/:id",children:Object(f.jsx)(Q,{})}),Object(f.jsx)(l.a,{to:"/catalog"})]})};function U(e,t){switch(t.type){case E:return{catalog:Object(x.a)(t.payload)};default:return e}}var X=function(){var e=Z(),t=Object(a.useReducer)(U,{catalog:[]}),c=Object(s.a)(t,2),n=c[0],r=c[1];return Object(f.jsx)(v.Provider,{value:{store:n,dispatch:r},children:Object(f.jsx)(o.a,{children:e})})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,44)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),r(e),i(e)}))};i.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(X,{})}),document.getElementById("root")),Y()},5:function(e,t,c){e.exports={links:"BurgerMenu_links__2VK8V",linkItem:"BurgerMenu_linkItem__3iiSk",activeLinkItem:"BurgerMenu_activeLinkItem__3spx-",down:"BurgerMenu_down__2KZZx",up:"BurgerMenu_up__8JApF"}},7:function(e,t,c){e.exports={cardImg:"cartitem_cardImg__3g5mM",card:"cartitem_card__2IIvF",cartText:"cartitem_cartText__1hH9A",mainInfo:"cartitem_mainInfo__2jWWi",cardInfo:"cartitem_cardInfo__3mfO1",price:"cartitem_price__1QUFP",deleteButton:"cartitem_deleteButton__1Q-pl"}},9:function(e,t,c){e.exports={cardImg:"card_cardImg__3wAOU",card:"card_card__1gJbo",cardInfo:"card_cardInfo__3tow3",orderButton:"card_orderButton__3yEa4",price:"card_price__10Vwg"}}},[[43,1,2]]]);
//# sourceMappingURL=main.ed61aee8.chunk.js.map